<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Learn, Make, Share, Live</title>
  <subtitle>Learn new things, Make things better, Share things usefule, Live well</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://zhaoshengjun.github.io/"/>
  <updated>2016-12-06T13:45:58.000Z</updated>
  <id>https://zhaoshengjun.github.io/</id>
  
  <author>
    <name>Sam Zhao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Code Splitting in Webpack - 1</title>
    <link href="https://zhaoshengjun.github.io/2016/12/06/code-splitting-in-webpack-1/"/>
    <id>https://zhaoshengjun.github.io/2016/12/06/code-splitting-in-webpack-1/</id>
    <published>2016-12-06T13:32:00.000Z</published>
    <updated>2016-12-06T13:45:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h2><p>We all know that deploy a gigantic <code>bundle.js</code> with our app is not a good option.  Because the first page should be loaded as fast as possible. Otherwise the user will leave the app.  We, developer, should consider to use any possible options to reduce the initial loading time.</p>
<p>Luckily, <code>webpack</code> got you covered!</p>
<h2 id="The-Solution"><a href="#The-Solution" class="headerlink" title="The Solution"></a>The Solution</h2><p>The solution <code>webpack</code> used is called <code>code splitting</code>. It‚Äôs splitting the code into different parts (<code>webpack</code> ‚Äòs term is called <code>chunk</code>). So the individual page will only need to load the parts it needs. If some parts are already loaded, it will only load the missing part, which is much quicker.</p>
<p>The technique <code>webpack</code> uses is to splitting the code when it meets the splitting point. What‚Äôs a splitting point? It varies based on the module system you are using:</p>
<ul>
<li>for <code>commonjs</code>, it‚Äôs <code>require.ensure(dependencies, callback)</code></li>
<li>for <code>AMD</code>, it‚Äôs <code>require(dependencies, callback)</code></li>
<li>for <code>SystemJS</code>, it‚Äôs <code>System.import(dependencies)</code> </li>
</ul>
<h2 id="The-Example"><a href="#The-Example" class="headerlink" title="The Example"></a>The Example</h2><p>Let‚Äôs take a look at the<code>code-splitting</code>  example from <code>webpack</code> <a href="">repo</a>.</p>
<p>Inside <code>node_modules</code> folder, we have 4 files, each one represents a module like we used in everyday development. Outside the <code>node_modules</code> folder, we have a <code>example.js</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//example.js</span></div><div class="line"><span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">"a"</span>);                                   <span class="comment">//1</span></div><div class="line"><span class="keyword">var</span> b = <span class="built_in">require</span>(<span class="string">"b"</span>);                                   <span class="comment">//2</span></div><div class="line"><span class="built_in">require</span>.ensure([<span class="string">"c"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">require</span>) </span>&#123;               <span class="comment">//3</span></div><div class="line">    <span class="built_in">require</span>(<span class="string">"b"</span>).xyz();                                 <span class="comment">//4</span></div><div class="line">    <span class="keyword">var</span> d = <span class="built_in">require</span>(<span class="string">"d"</span>);                               <span class="comment">//5</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ol>
<li>Load module <code>a</code></li>
<li>Load module <code>b</code></li>
<li>Here comes the <code>require.ensure()</code>, it tells <code>webpack</code> that from this point, we need another chunk to separate the code. This code should include module <code>c</code></li>
<li>In the new chunk, load module <code>b</code>;</li>
<li>in the new chunk load module <code>d</code></li>
</ol>
<p>So if we use the following configuration:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>:<span class="string">'./example.js'</span>,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">filename</span>:<span class="string">'output.js'</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>and we run command <code>webpack</code> (if you already installed <code>webpack</code> globally), we should get result similiar to the following:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Hash: 450a9b9be7c7ef4d290f</div><div class="line">Version: webpack 2.1.0-beta.27</div><div class="line">Time: 125ms</div><div class="line">      Asset       Size  Chunks             Chunk Names</div><div class="line">0.output.js  169 bytes       0  [emitted]</div><div class="line">  output.js    5.75 kB       1  [emitted]  main</div><div class="line">   [4] ./example.js 144 bytes &#123;1&#125; [built]</div><div class="line">    + 4 hidden modules</div></pre></td></tr></table></figure>
<p>As we expected, the output are 2 files:</p>
<ul>
<li><p><code>output.js</code> is the initial chunk, which needs to be loaded first. It contains module <code>a</code> and <code>b</code> . The rest is the <code>webpack</code> polyfill.</p>
<blockquote>
<p>This will normally be the <code>js</code> file in your app‚Äôs index page.</p>
</blockquote>
</li>
<li><p><code>0.output.js</code> contains module <code>c</code> and <code>d</code>. In our analysis, it should contain <code>b</code> as well, but <code>b</code> has already been loaded so <code>webpack</code> is smart enough to remove it.</p>
<blockquote>
<p>This will normally be the <code>js</code> file in your app‚Äôs other page, loaded by routing system. </p>
</blockquote>
</li>
</ul>
<p>There are other tricks to do the code-splitting as well. We‚Äôll look at them in following posts.</p>
<p>Stay tuned!</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;The-Problem&quot;&gt;&lt;a href=&quot;#The-Problem&quot; class=&quot;headerlink&quot; title=&quot;The Problem&quot;&gt;&lt;/a&gt;The Problem&lt;/h2&gt;&lt;p&gt;We all know that deploy a gigantic
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Webpack" scheme="https://zhaoshengjun.github.io/tags/Webpack/"/>
    
      <category term="code splitting" scheme="https://zhaoshengjun.github.io/tags/code-splitting/"/>
    
      <category term="optimization" scheme="https://zhaoshengjun.github.io/tags/optimization/"/>
    
  </entry>
  
  <entry>
    <title>Use I18n Plugin in Webpack</title>
    <link href="https://zhaoshengjun.github.io/2016/12/05/i18n-webpack-plugin/"/>
    <id>https://zhaoshengjun.github.io/2016/12/05/i18n-webpack-plugin/</id>
    <published>2016-12-05T13:42:00.000Z</published>
    <updated>2016-12-05T14:02:54.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>Webpack</code> has a plugin called <code>i18n-webpack-plugin</code>, which can be used to do <code>simple</code> translation.</p>
<a id="more"></a>
<div class="tip"><br>When I say <strong>simple</strong>, it is really <strong>simple</strong>.<br></div>

<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>This example is taken from the standard i18n example from <a href="https://github.com/webapck/webpack" target="_blank" rel="external">webpack repo</a>. You can check the whole source code from <a href="https://github.com/webpack/webpack/examples/i18n" target="_blank" rel="external">here</a>. </p>
<p>In the entry file <code>example.js</code>, we use <code>console.log</code> function to output some strings:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(__(<span class="string">"Hello World"</span>));   <span class="comment">//this one has the translation</span></div><div class="line"><span class="built_in">console</span>.log(__(<span class="string">"Missing Text"</span>));  <span class="comment">//this one is missint the translation.</span></div></pre></td></tr></table></figure>
<p>We define the translations in a <code>json</code> file based on the language. Here we have a <code>de.json</code>.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">	<span class="attr">"Hello World"</span>: <span class="string">"Hallo Welt"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>What we want is two separated bundle files, each has its own correct strings.</p>
<p>The configuation file we need to use is like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</div><div class="line"><span class="keyword">var</span> I18nPlugin = <span class="built_in">require</span>(<span class="string">"i18n-webpack-plugin"</span>);</div><div class="line"><span class="keyword">var</span> languages = &#123;</div><div class="line">	<span class="string">"en"</span>: <span class="literal">null</span>,</div><div class="line">	<span class="string">"de"</span>: <span class="built_in">require</span>(<span class="string">"./de.json"</span>)     <span class="comment">// 1</span></div><div class="line">&#125;;</div><div class="line"><span class="built_in">module</span>.exports = <span class="built_in">Object</span>.keys(languages).map(<span class="function"><span class="keyword">function</span>(<span class="params">language</span>) </span>&#123;        <span class="comment">//2</span></div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		<span class="attr">name</span>: language,       <span class="comment">//3</span></div><div class="line">		entry: <span class="string">"./example"</span>,   <span class="comment">//4</span></div><div class="line">		output: &#123;</div><div class="line">			<span class="attr">path</span>: path.join(__dirname, <span class="string">"js"</span>),</div><div class="line">			<span class="attr">filename</span>: language + <span class="string">".output.js"</span></div><div class="line">		&#125;,</div><div class="line">		<span class="attr">plugins</span>: [</div><div class="line">			<span class="keyword">new</span> I18nPlugin(</div><div class="line">				languages[language]                 <span class="comment">//5</span></div><div class="line">			)</div><div class="line">		]</div><div class="line">	&#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>So let me explain it one by one.</p>
<ol>
<li>We need a mapping table( <code>languages</code> object) to tell <code>webpack</code> how to find the translation. For each language‚Äôs translation file, we use <code>require()</code> to load them;</li>
<li>We use <code>map</code> function to generate multiple configuration files for each language in our mapping table. In this case, we have <code>en</code> and <code>de</code>. So we will generate 2 configuration files at the same time for <code>webpack</code> to process. This is called <code>multi-compiler</code> feature.</li>
<li>We give each configuration file a name and it will be the same as the language name.</li>
<li>The <code>entry</code> should be the same as we need to use in the normal configuration file. In our case, it should be the <code>example.js</code></li>
<li>We need to specify the <code>I18nPlugin</code>  we use, along with the options. </li>
</ol>
<h2 id="Plugin-Options"><a href="#Plugin-Options" class="headerlink" title="Plugin Options"></a>Plugin Options</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">plugins: [</div><div class="line">  ...</div><div class="line">  new I18nPlugin(languageConfig, optionsObj)</div><div class="line">],</div></pre></td></tr></table></figure>
<p>This plugin takes 2 arguments. </p>
<ol>
<li><code>languageConfig</code>: this is the translation file</li>
<li><code>optionsObj</code>: which has 3 options:<ul>
<li><code>optionsObj.functionName</code>: the default value is <code>__</code>, you can change it to other function name.</li>
<li><code>optionsObj.failOnMissing</code>: the default value is <code>false</code>, which will show a warning message, if the mapping text cannot be found. If set to <code>true</code>, the message will be an error message.</li>
<li><code>optionsObj.hideMessage</code>: the default value is <code>false</code>, which will show the warning/error message. If set to <code>true</code>, the message will be hide.</li>
</ul>
</li>
</ol>
<h2 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h2><p>There are lots of complex situations regarding translation, which can not be handled by this plugin.</p>
<p>For example, the <a href="https://github.com/webpack/i18n-webpack-plugin/issues/1" target="_blank" rel="external">pluralization issue</a>.</p>
<p>Those can certainly be improved in the future.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Webpack&lt;/code&gt; has a plugin called &lt;code&gt;i18n-webpack-plugin&lt;/code&gt;, which can be used to do &lt;code&gt;simple&lt;/code&gt; translation.&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="webpack" scheme="https://zhaoshengjun.github.io/tags/webpack/"/>
    
      <category term="plugin" scheme="https://zhaoshengjun.github.io/tags/plugin/"/>
    
      <category term="i18n" scheme="https://zhaoshengjun.github.io/tags/i18n/"/>
    
  </entry>
  
  <entry>
    <title>Webpack 101 - Start</title>
    <link href="https://zhaoshengjun.github.io/2016/12/05/webpack-simple-start/"/>
    <id>https://zhaoshengjun.github.io/2016/12/05/webpack-simple-start/</id>
    <published>2016-12-05T04:07:00.000Z</published>
    <updated>2016-12-05T10:32:55.000Z</updated>
    
    <content type="html"><![CDATA[<p>Let‚Äôs start with the simplest example.</p>
<h1 id="The-plan"><a href="#The-plan" class="headerlink" title="The plan"></a>The plan</h1><p>We‚Äôll create 2 <code>js</code> files: <code>a.js</code> and <code>b.js</code>.  <code>b.js</code> is dependent on <code>a.js</code>. We‚Äôll also use a html file to load <code>js</code> file.</p>
<p>We certainly won‚Äôt include all the <code>js</code> files in the html. What we want is only the bundled file (in this case, one single file) will be included when we run the program. And this exactly what <code>webpack</code> does.</p>
<h1 id="The-steps"><a href="#The-steps" class="headerlink" title="The steps"></a>The steps</h1><p>For this demo, we want to install <code>webpack</code> globally, so we can simplify the command we need to use.</p>
<p>To install <code>webpack</code>, we run <code>yarn</code>  in terminal:</p>
<p><code>yarn global add webpack@2.1.0-beta.27</code></p>
<p>Then we create our files under a folder:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//a.js</span></div><div class="line"><span class="built_in">module</span>.exports = <span class="string">"a"</span>;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//b.js</span></div><div class="line"><span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">'./a'</span>);</div><div class="line"><span class="built_in">console</span>.log(a);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>We don‚Äôt have <code>bundle.js</code> yet. That‚Äôs what we need to use <code>webpack</code> to generate for us.</p>
<p><code>webpack</code> can take complex configurations in order to do complex things. But it can also be simple. All you need is to point the <strong>input</strong> and <strong>output</strong>. In <code>webpack</code> world, they are called <code>entry</code> and <code>output.filename</code>. </p>
<p>Here‚Äôs the configuration file we need:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">	<span class="attr">entry</span>: <span class="string">'./b'</span>,</div><div class="line">	<span class="attr">output</span>: &#123;</div><div class="line">		<span class="attr">filename</span>:<span class="string">'bundle.js'</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We now can run the command to generate the <code>bundle.js</code>.  Run the following command in terminal:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webpack</div></pre></td></tr></table></figure>
<p>The output is something like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Hash: 46e06ba6184056d8ea0b</div><div class="line">Version: webpack 2.1.0-beta.27</div><div class="line">Time: 93ms</div><div class="line">    Asset     Size  Chunks             Chunk Names</div><div class="line">bundle.js  2.82 kB       0  [emitted]  main</div><div class="line">   [0] ./a.js 49 bytes &#123;0&#125; [built]</div><div class="line">   [1] ./b.js 69 bytes &#123;0&#125; [built]</div></pre></td></tr></table></figure>
<p>If we open the <code>index.html</code> in chrome and see the console, we can find the output is correct.</p>
<p>That‚Äôs probably the simplest example for <code>webpack</code> ‚Äã:)‚Äã</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Let‚Äôs start with the simplest example.&lt;/p&gt;
&lt;h1 id=&quot;The-plan&quot;&gt;&lt;a href=&quot;#The-plan&quot; class=&quot;headerlink&quot; title=&quot;The plan&quot;&gt;&lt;/a&gt;The plan&lt;/h1&gt;&lt;p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Webpack" scheme="https://zhaoshengjun.github.io/tags/Webpack/"/>
    
  </entry>
  
  <entry>
    <title>Webpack Config CLI</title>
    <link href="https://zhaoshengjun.github.io/2016/09/20/webpack-config-cli/"/>
    <id>https://zhaoshengjun.github.io/2016/09/20/webpack-config-cli/</id>
    <published>2016-09-20T11:42:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>Recently I created my first open source NPM package called <code>create-webpack-config</code>. As you can guess, this is to create a <a href="https://webpack.github.io/" target="_blank" rel="external">webpack</a> configuration file (<code>webpack.config.js</code>), via CLI.</p>
<a id="more"></a>
<p>Basically it‚Äôs a command line tool which will generate an app structure for you to start using <a href="https://webpack.github.io/" target="_blank" rel="external">webpack</a> in no time.</p>
<p>As to today, this module has been downloaded less than 300 times. It‚Äôs a very small number, but for me it‚Äôs quite big!</p>
<p><img src="/images/npm-stats.png" alt="npm-stats"></p>
<p>If you like to use <a href="https://webpack.github.io/" target="_blank" rel="external">webpack</a> , try this tool. If you like the tool, star it on <a href="https://github.com/zhaoshengjun/webpack-config" target="_blank" rel="external">github</a>. It really motivates me!</p>
<h2 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h2><ol>
<li>Install the package via <code>npm i -g create-webpack-config</code></li>
<li>Create app by run <code>webpack-config init</code></li>
</ol>
<p>You now have a working directory to start! You can run <code>npm i</code> to install dependencies and then rurn <code>npm start</code> to start üöÄ !</p>
<h2 id="Why"><a href="#Why" class="headerlink" title="Why?"></a>Why?</h2><p>Lots of people cannot figure out how to make <a href="https://webpack.github.io/" target="_blank" rel="external">webpack</a> work. But some people are also working on this to make it easier to use, with different approaches:</p>
<ul>
<li>boilerplate</li>
<li>better documents(especially @TheLarkInn, @sokra and other team members)</li>
<li>‚Ä¶ ‚Ä¶</li>
</ul>
<p>With the popularize of Create-React-App (CRA), I think it‚Äôs worth another shot by building a CLI tools to provide single command to get started with webpack.</p>
<p>After all, webpack is a GREAT tool and we all love it üíï üíï üíï !</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Recently I created my first open source NPM package called &lt;code&gt;create-webpack-config&lt;/code&gt;. As you can guess, this is to create a &lt;a href=&quot;https://webpack.github.io/&quot;&gt;webpack&lt;/a&gt; configuration file (&lt;code&gt;webpack.config.js&lt;/code&gt;), via CLI.&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Webpack" scheme="https://zhaoshengjun.github.io/tags/Webpack/"/>
    
      <category term="Webpack-config" scheme="https://zhaoshengjun.github.io/tags/Webpack-config/"/>
    
      <category term="npm package" scheme="https://zhaoshengjun.github.io/tags/npm-package/"/>
    
  </entry>
  
  <entry>
    <title>Dynamic Require in Webpack</title>
    <link href="https://zhaoshengjun.github.io/2016/09/09/dynamic-require-in-webpack/"/>
    <id>https://zhaoshengjun.github.io/2016/09/09/dynamic-require-in-webpack/</id>
    <published>2016-09-08T14:51:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>Webpack is undoubtly powerful.</p>
<a id="more"></a>
<p>Here‚Äôs a trick I learned tody. When you have many pictures/icons which will be using by your app, you probably will name them according to a rule so that it‚Äôs easy to be picked up by the program.</p>
<p>E.g. You have several teams, and each team has lots of pictures. You put them under separated folders. When you use them, you prefer to use them like this:</p>
<p><code>./teams/${team}/${image}.svg</code></p>
<p>This is much simpler than manually coding each pictures.</p>
<p>When you use webpack, it seems a little difficult to do such thing. Because for webpack, each file is an asset. You refer them by using <code>require</code> statement. There seems to have to load them one by one. Oh my!</p>
<p>Good news is webpack does support this! Here‚Äôs a screenshot of use the <code>require</code>with an expression. This is called <strong>dynamamic require</strong>.</p>
<p><img src="/images/webpack-dynamic-require.png" alt="webpack-dynamic-require.png"></p>
<p>The screenshot is using React, but you can apply this to other framework as well.</p>
<p>p.s: this is <a href="https://github.com/facebookincubator/create-react-app/issues/585" target="_blank" rel="external">the source</a> where I learned this trick.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Webpack is undoubtly powerful.&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Webpack" scheme="https://zhaoshengjun.github.io/tags/Webpack/"/>
    
      <category term="Dynamic require" scheme="https://zhaoshengjun.github.io/tags/Dynamic-require/"/>
    
  </entry>
  
  <entry>
    <title>Running Horizon on Windows</title>
    <link href="https://zhaoshengjun.github.io/2016/09/09/run-horizon-on-windows/"/>
    <id>https://zhaoshengjun.github.io/2016/09/09/run-horizon-on-windows/</id>
    <published>2016-09-08T14:01:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://horizon.io/" target="_blank" rel="external">Horizon</a> is a realtime JavaScript backend, which is similiar to Firebase. What interested to me is the powerful query language it provides. If you use Firebase before, you will know Firebase is cool as realtime database, but limited by the query ability. So I think it‚Äôs worth trying to use Horizon.<br><a id="more"></a><br>I followed the step on the website:</p>
<ol>
<li>install RethinkDB by downloading the RethinkDB package</li>
<li>install horizon by running <code>npm i -g horizon</code></li>
<li>create an app by running <code>hz init test_app</code></li>
<li>start the app by running <code>hz serve --dev</code></li>
</ol>
<p>Here‚Äôs the problem I got:<br><img src="/images/horizon-error.png" alt="horizon-error"></p>
<p>The problem is because Horizon will start RethinkDB by default and in this case it doesn‚Äôt know how to start RethinkDB. Because RethinkDB installer doesn‚Äôt add the folder path to the environment variable. I tried to manually add this but it was not working. Then I checked the document of Horizon, and found out that Horizon can be configured to Connect to the server, instead of Start a server.</p>
<p>So I changed the <code>config.toml</code> file inside <code>.hz</code> folder, uncommentted the following line. Then I manually start the RethinkDB server and run <code>hz serve --dev</code>. It worked!<br><img src="/images/config-toml.png" alt="config-toml"></p>
<p>Hope it helps someone with the same issue when running Horizon.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://horizon.io/&quot;&gt;Horizon&lt;/a&gt; is a realtime JavaScript backend, which is similiar to Firebase. What interested to me is the powerful query language it provides. If you use Firebase before, you will know Firebase is cool as realtime database, but limited by the query ability. So I think it‚Äôs worth trying to use Horizon.&lt;br&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Horizon" scheme="https://zhaoshengjun.github.io/tags/Horizon/"/>
    
      <category term="RethinkDB" scheme="https://zhaoshengjun.github.io/tags/RethinkDB/"/>
    
  </entry>
  
  <entry>
    <title>Difference/Connections between Component and Directives</title>
    <link href="https://zhaoshengjun.github.io/2016/05/16/ng-directive/"/>
    <id>https://zhaoshengjun.github.io/2016/05/16/ng-directive/</id>
    <published>2016-05-16T12:42:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>Angular 2 introduced <code>@Component</code> and also <code>@Directive</code> for meta data using TypeScript compatibility. Those who knows Angular 1 probably find these are familiar with <code>Directives</code> in Angular 1. But are they the same? Is there any difference? </p>
<a id="more"></a>
<p>I was confusing too, until I heard one simple yet elegant explanation:</p>
<blockquote>
<p>In Angular 1, <code>directives</code> has <strong>E</strong> type and <strong>A</strong> type. <code>@Component</code> in Angular 2 is like <strong>E</strong> type directive in Angular 1 while <code>@Directive</code> is like <strong>A</strong> type directive.</p>
</blockquote>
<p>Hope this will clear your head:)</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Angular 2 introduced &lt;code&gt;@Component&lt;/code&gt; and also &lt;code&gt;@Directive&lt;/code&gt; for meta data using TypeScript compatibility. Those who knows Angular 1 probably find these are familiar with &lt;code&gt;Directives&lt;/code&gt; in Angular 1. But are they the same? Is there any difference? &lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Angular 2" scheme="https://zhaoshengjun.github.io/tags/Angular-2/"/>
    
      <category term="Component" scheme="https://zhaoshengjun.github.io/tags/Component/"/>
    
      <category term="Directive" scheme="https://zhaoshengjun.github.io/tags/Directive/"/>
    
  </entry>
  
  <entry>
    <title>Issue With Broccoli Running Without ADMIN Authorization</title>
    <link href="https://zhaoshengjun.github.io/2016/05/09/ng-serve-error/"/>
    <id>https://zhaoshengjun.github.io/2016/05/09/ng-serve-error/</id>
    <published>2016-05-09T04:42:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>I was running Angular 2 using company computer ( God bless no one from my company see this). And I was starting my app using <code>ng serve</code>, but it didn‚Äôt work. Instead it threw me an error regarding the Broccoli cannot merge trees.</p>
<a id="more"></a>
<p><img src="/images/ng-serve-error.png" alt="ng serve error"></p>
<p>I did some digging but it didn‚Äôt go anywhere. Then I noticed that the error message saying ‚Äúrunning as administrator increases performance significantly.‚Äù I just tried to start command line as admin and run the <code>ng serve</code> again. Wha-la, the error message disappeared. My app is back online running again.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;I was running Angular 2 using company computer ( God bless no one from my company see this). And I was starting my app using &lt;code&gt;ng serve&lt;/code&gt;, but it didn‚Äôt work. Instead it threw me an error regarding the Broccoli cannot merge trees.&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Angular 2" scheme="https://zhaoshengjun.github.io/tags/Angular-2/"/>
    
      <category term="Broccoli" scheme="https://zhaoshengjun.github.io/tags/Broccoli/"/>
    
      <category term="Angular Cli" scheme="https://zhaoshengjun.github.io/tags/Angular-Cli/"/>
    
  </entry>
  
  <entry>
    <title>Fix Broccoli Error in Angular 2</title>
    <link href="https://zhaoshengjun.github.io/2016/05/08/broccoli-error/"/>
    <id>https://zhaoshengjun.github.io/2016/05/08/broccoli-error/</id>
    <published>2016-05-08T11:42:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>I used <code>angular-cli</code> create an Angular 2 app, use the default settings. Then I used <code>ng serve</code> command to start the server and made some changes. I must say the process is much better than before, which I has to change the <code>package.json</code> and set up a build tool, e.g. <code>gulp</code> or <code>webpack</code>, specially to enable live-reloading. Now <code>angular-cli</code> has all done that for me. Really sweet!</p>
<a id="more"></a>
<p>Then I left my desktop and stopped the build task. After I returned back and started to run <code>ng serve</code> again, I got an error.<br><img src="/images/cli-error.png" alt="broccoli-error"></p>
<p>The fix for this error is quite simple: change the generated <code>spec.ts</code> file. The reason I think is Broccoli is run the test spec files before it compile the file and feed them to system.js so that Angular can load them onto the webpage. But I was not using a TDD approach so the test file were not match with the app file. So Broccoli was failling.</p>
<p>It looks like Angular is promoting TDD approach! </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;I used &lt;code&gt;angular-cli&lt;/code&gt; create an Angular 2 app, use the default settings. Then I used &lt;code&gt;ng serve&lt;/code&gt; command to start the server and made some changes. I must say the process is much better than before, which I has to change the &lt;code&gt;package.json&lt;/code&gt; and set up a build tool, e.g. &lt;code&gt;gulp&lt;/code&gt; or &lt;code&gt;webpack&lt;/code&gt;, specially to enable live-reloading. Now &lt;code&gt;angular-cli&lt;/code&gt; has all done that for me. Really sweet!&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Angular 2" scheme="https://zhaoshengjun.github.io/tags/Angular-2/"/>
    
      <category term="Broccoli" scheme="https://zhaoshengjun.github.io/tags/Broccoli/"/>
    
  </entry>
  
  <entry>
    <title>ng2 error - No provider for Http</title>
    <link href="https://zhaoshengjun.github.io/2016/05/08/http-error/"/>
    <id>https://zhaoshengjun.github.io/2016/05/08/http-error/</id>
    <published>2016-05-08T01:06:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>This error is caused by, as you can guess, no Http provider in your ts/js file.</p>
<a id="more"></a>
<p>Here‚Äôs a screenshot of my error message.<br><img src="/images/http-error.png" alt="http provider error"></p>
<p>How to fix this? By adding the http provider of course. It‚Äôs two lines of code.</p>
<ol>
<li><code>import { HTTP_PROVIDERS } from &#39;@angular/http&#39;;</code></li>
<li>add <code>HTTP_PROVIDERS</code> to your provider list.</li>
</ol>
<p><img src="/images/fix-http.png" alt="use http provider"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;This error is caused by, as you can guess, no Http provider in your ts/js file.&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Angular 2" scheme="https://zhaoshengjun.github.io/tags/Angular-2/"/>
    
      <category term="HTTP" scheme="https://zhaoshengjun.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>Fix issue with Angular Material 2</title>
    <link href="https://zhaoshengjun.github.io/2016/05/08/ng-material/"/>
    <id>https://zhaoshengjun.github.io/2016/05/08/ng-material/</id>
    <published>2016-05-07T14:51:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>If you have watched the demo of puppy love on ngconf 2016 and pumped to get hands on angualr material 2, trust me, you are <strong>not</strong> alone.</p>
<p>If you try to use angualr cli to create an app and follow along the demo and find out it doesn‚Äôt work, trust me, you are <strong>not</strong> alone(at least I think so).</p>
<p>If you have the same issue, here‚Äôs the how to solve it:</p>
<a id="more"></a>
<ul>
<li>Change <code>angular-cli-build.js</code> in the root folder by adding a line of <code>&#39;@angular2-material/**/*.js&#39;</code></li>
</ul>
<p><img src="/images/cli-build.png" alt="angular-cli-build.js"></p>
<ul>
<li>Change <code>sytem-config.ts</code> in the <code>src</code> folder by adding material 2 specific settings (on the top).</li>
</ul>
<p><img src="/images/system-config.png" alt="system-config.ts"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;If you have watched the demo of puppy love on ngconf 2016 and pumped to get hands on angualr material 2, trust me, you are &lt;strong&gt;not&lt;/strong&gt; alone.&lt;/p&gt;
&lt;p&gt;If you try to use angualr cli to create an app and follow along the demo and find out it doesn‚Äôt work, trust me, you are &lt;strong&gt;not&lt;/strong&gt; alone(at least I think so).&lt;/p&gt;
&lt;p&gt;If you have the same issue, here‚Äôs the how to solve it:&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Angular 2" scheme="https://zhaoshengjun.github.io/tags/Angular-2/"/>
    
      <category term="Angular Material 2" scheme="https://zhaoshengjun.github.io/tags/Angular-Material-2/"/>
    
  </entry>
  
  <entry>
    <title>Start to Blog</title>
    <link href="https://zhaoshengjun.github.io/2016/05/04/start-to-blog/"/>
    <id>https://zhaoshengjun.github.io/2016/05/04/start-to-blog/</id>
    <published>2016-05-03T14:51:00.000Z</published>
    <updated>2016-12-04T12:13:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>I haven‚Äôt writing blogs for years. Last time it landed me a <a href="http://item.jd.com/11355145.html" target="_blank" rel="external">book contract</a>. But as you know, there‚Äôs not too much things to share when you in an SAP world. </p>
<p>Things changed, <strong>quickly</strong>.</p>
<a id="more"></a>
<p>Yesterday, I was playing with TypeScript + Webpack + React.js, you know, they are <strong>THE</strong> hottest in JavaScript world. I was frastrated, because the tech stack is so complicated since the JavaScript world are changing so rapidly. Even following along the training tutorials cannot ganrentee that you won‚Äôt hit the wall.</p>
<p>Long story short, I hit the wall because the TS-Loader in Webpack keeps complianing I cannot use JSX (the file format is  actually TSX, but it doesn‚Äôt matter). I did the thing I did many times - I googled. And googled. It didn‚Äôt end well. There are not so many blogs talking about this, especially for TS-Loader.</p>
<p>Suddenly, I realized that what TS-loader does is just <strong>transformation</strong> - from TSX to JS. Nothing more. Nothing fancy. Why I have to use this? I can use other tools as long as it does the job. In fact, the editor I use - VsCode - has built-support for TypeScript, because you know, they are all from Micrsoft. </p>
<p>So I changed my <code>webpack.config.js</code>, removing the TS-Loader. Also I created a task to let VsCode transform TSX to JS. I have some perfectionlism issue, so I also use VsCode settigns to hide the generated <code>.js</code> and <code>.js.map</code> files. Here‚Äôs something tricky, in the settings, VsCode reminds me that I can only use a string to config but it‚Äôs totally OK to provide an array.</p>
<p>I happily accept the solution. After that, suddenly I feel the strong urge to share this with the world. Because I know that out there so many people are struggling with starting with the current JS world but it‚Äôs to hard. The JS world is not user-friendly in some perspective. </p>
<p>I simplely just want to make it <strong>less difficult</strong> for people who had the same suffer in today‚Äôs tech stack while what they want is just <strong>simply start</strong>.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;I haven‚Äôt writing blogs for years. Last time it landed me a &lt;a href=&quot;http://item.jd.com/11355145.html&quot;&gt;book contract&lt;/a&gt;. But as you know, there‚Äôs not too much things to share when you in an SAP world. &lt;/p&gt;
&lt;p&gt;Things changed, &lt;strong&gt;quickly&lt;/strong&gt;.&lt;/p&gt;
    
    </summary>
    
      <category term="Dev" scheme="https://zhaoshengjun.github.io/categories/Dev/"/>
    
    
      <category term="Webpack" scheme="https://zhaoshengjun.github.io/tags/Webpack/"/>
    
      <category term="TypeScript" scheme="https://zhaoshengjun.github.io/tags/TypeScript/"/>
    
      <category term="React" scheme="https://zhaoshengjun.github.io/tags/React/"/>
    
      <category term="VsCode" scheme="https://zhaoshengjun.github.io/tags/VsCode/"/>
    
  </entry>
  
</feed>
